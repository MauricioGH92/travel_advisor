import axios from 'axios';
import {IPlace} from '../interfaces/genericInterface';

const URL = 'https://travel-advisor.p.rapidapi.com/restaurants/list-in-boundary';

  
export const getPlacesData = async (type:string,bounds:any): Promise<Array<IPlace> | any > => {
    const URL = `https://travel-advisor.p.rapidapi.com/${type}/list-in-boundary`;
    try {
        const options = buildOptions(bounds);
        const response=  await axios.get(URL, options);
        return response?.data?.data;  
    } catch (error) {
        console.log(error);
    }
}

const buildOptions = ({sw,ne}:any)=>{
    const options = {
        params: {
          bl_latitude: sw.lat,
          tr_latitude: ne.lat,
          bl_longitude: sw.lng,
          tr_longitude: ne.lng,
        },
        headers: {
          'x-rapidapi-host': 'travel-advisor.p.rapidapi.com',
          'x-rapidapi-key': process.env.REACT_APP_RAPIDAPI_KEY || ""
        }
      };
      return options;
}


const responseapi = `[{"location_id":"6973499","name":"Los Cangrejos de Pepito Loza","latitude":"-2.126593","longitude":"-79.90402","num_reviews":"1316","timezone":"America/Guayaquil","location_string":"Guayaquil, Guayas Province","photo":{"images":{"small":{"width":"150","url":"https://media-cdn.tripadvisor.com/media/photo-l/16/8c/b6/f5/gracias-por-preferirnos.jpg","height":"150"},"thumbnail":{"width":"50","url":"https://media-cdn.tripadvisor.com/media/photo-t/16/8c/b6/f5/gracias-por-preferirnos.jpg","height":"50"},"original":{"width":"1280","url":"https://media-cdn.tripadvisor.com/media/photo-o/16/8c/b6/f5/gracias-por-preferirnos.jpg","height":"960"},"large":{"width":"550","url":"https://media-cdn.tripadvisor.com/media/photo-s/16/8c/b6/f5/gracias-por-preferirnos.jpg","height":"413"},"medium":{"width":"250","url":"https://media-cdn.tripadvisor.com/media/photo-f/16/8c/b6/f5/gracias-por-preferirnos.jpg","height":"188"}},"is_blessed":true,"uploaded_date":"2019-02-21T21:09:12-0500","caption":"Gracias por preferirnos","id":"378320629","helpful_votes":"0","published_date":"2019-02-21T21:09:12-0500","user":{"user_id":null,"member_id":"0","type":"user"}},"awards":[{"award_type":"CERTIFICATE_OF_EXCELLENCE","year":"2021","images":{"small":"https://www.tripadvisor.com/img/cdsi/img2/awards/CERTIFICATE_OF_EXCELLENCE_small-0-5.jpg","large":"https://www.tripadvisor.com/img/cdsi/img2/awards/CERTIFICATE_OF_EXCELLENCE_2021_en_US_large-0-5.jpg"},"categories":[],"display_name":"Certificate of Excellence 2021"},{"award_type":"CERTIFICATE_OF_EXCELLENCE","year":"2019","images":{"small":"https://www.tripadvisor.com/img/cdsi/img2/awards/CERTIFICATE_OF_EXCELLENCE_small-0-5.jpg","large":"https://www.tripadvisor.com/img/cdsi/img2/awards/CERTIFICATE_OF_EXCELLENCE_2019_en_US_large-0-5.jpg"},"categories":[],"display_name":"Certificate of Excellence 2019"}],"doubleclick_zone":"sa.ecuador.guayaquil","preferred_map_engine":"default","raw_ranking":"4.834332466125488","ranking_geo":"Guayaquil","ranking_geo_id":"303845","ranking_position":"1","ranking_denominator":"557","ranking_category":"restaurant","ranking":"#1 of 681 Restaurants in Guayaquil","distance":"2.748230393815619","distance_string":"2.7 km","bearing":"north","rating":"5.0","is_closed":false,"open_now_text":"Open Now","is_long_closed":false,"price_level":"$$ - $$$","price":"$5 - $60","description":"","web_url":"https://www.tripadvisor.com/Restaurant_Review-g303845-d6973499-Reviews-Los_Cangrejos_de_Pepito_Loza-Guayaquil_Guayas_Province.html","write_review":"https://www.tripadvisor.com/UserReview-g303845-d6973499-Los_Cangrejos_de_Pepito_Loza-Guayaquil_Guayas_Province.html","ancestors":[{"subcategory":[{"key":"city","name":"City"}],"name":"Guayaquil","abbrv":null,"location_id":"303845"},{"subcategory":[{"key":"province","name":"Province"}],"name":"Guayas Province","abbrv":null,"location_id":"2651587"},{"subcategory":[{"key":"country","name":"Country"}],"name":"Ecuador","abbrv":null,"location_id":"294307"}],"category":{"key":"restaurant","name":"Restaurant"},"subcategory":[{"key":"sit_down","name":"Sit down"}],"parent_display_name":"Guayaquil","is_jfy_enabled":false,"nearest_metro_station":[],"phone":"+593 99 398 2664","website":"http://www.pepecrabs.com","email":"gerencia@pepecrabs.com","address_obj":{"street1":"Avenue Los Tulipanes","street2":"Francisco orellana","city":"Guayaquil","state":null,"country":"Ecuador","postalcode":"090150"},"address":"Avenue Los Tulipanes Francisco orellana, Guayaquil 090150 Ecuador","hours":{"week_ranges":[[{"open_time":660,"close_time":1560}],[{"open_time":660,"close_time":1560}],[{"open_time":660,"close_time":1560}],[{"open_time":660,"close_time":1560}],[{"open_time":660,"close_time":1560}],[{"open_time":660,"close_time":1560}],[{"open_time":660,"close_time":1560}]],"timezone":"America/Guayaquil"},"is_candidate_for_contact_info_suppression":false,"cuisine":[{"key":"10639","name":"Latin"},{"key":"10640","name":"Bar"},{"key":"10643","name":"Seafood"},{"key":"10791","name":"Ecuadorean"},{"key":"10665","name":"Vegetarian Friendly"},{"key":"10697","name":"Vegan Options"},{"key":"10992","name":"Gluten Free Options"}],"dietary_restrictions":[{"key":"10665","name":"Vegetarian Friendly"},{"key":"10697","name":"Vegan Options"},{"key":"10992","name":"Gluten Free Options"}],"establishment_types":[{"key":"10591","name":"Restaurants"}]},{"location_id":"7684981","name":"Pizza Alta","latitude":"-2.169206","longitude":"-79.90926","num_reviews":"262","timezone":"America/Guayaquil","location_string":"Guayaquil, Guayas Province","photo":{"images":{"small":{"width":"150","url":"https://media-cdn.tripadvisor.com/media/photo-l/09/11/0e/b5/pizza-alta.jpg","height":"150"},"thumbnail":{"width":"50","url":"https://media-cdn.tripadvisor.com/media/photo-t/09/11/0e/b5/pizza-alta.jpg","height":"50"},"original":{"width":"2000","url":"https://media-cdn.tripadvisor.com/media/photo-o/09/11/0e/b5/pizza-alta.jpg","height":"900"},"large":{"width":"1024","url":"https://media-cdn.tripadvisor.com/media/photo-w/09/11/0e/b5/pizza-alta.jpg","height":"460"},"medium":{"width":"550","url":"https://media-cdn.tripadvisor.com/media/photo-s/09/11/0e/b5/pizza-alta.jpg","height":"248"}},"is_blessed":true,"uploaded_date":"2015-09-28T17:11:01-0400","caption":"Pizza Alta","id":"152112821","helpful_votes":"4","published_date":"2015-09-28T17:11:01-0400","user":{"user_id":null,"member_id":"0","type":"user"}},"awards":[{"award_type":"CERTIFICATE_OF_EXCELLENCE","year":"2020","images":{"small":"https://www.tripadvisor.com/img/cdsi/img2/awards/CERTIFICATE_OF_EXCELLENCE_small-0-5.jpg","large":"https://www.tripadvisor.com/img/cdsi/img2/awards/CERTIFICATE_OF_EXCELLENCE_2020_en_US_large-0-5.jpg"},"categories":[],"display_name":"Certificate of Excellence 2020"},{"award_type":"CERTIFICATE_OF_EXCELLENCE","year":"2019","images":{"small":"https://www.tripadvisor.com/img/cdsi/img2/awards/CERTIFICATE_OF_EXCELLENCE_small-0-5.jpg","large":"https://www.tripadvisor.com/img/cdsi/img2/awards/CERTIFICATE_OF_EXCELLENCE_2019_en_US_large-0-5.jpg"},"categories":[],"display_name":"Certificate of Excellence 2019"},{"award_type":"CERTIFICATE_OF_EXCELLENCE","year":"2018","images":{"small":"https://www.tripadvisor.com/img/cdsi/img2/awards/CERTIFICATE_OF_EXCELLENCE_small-0-5.jpg","large":"https://www.tripadvisor.com/img/cdsi/img2/awards/CERTIFICATE_OF_EXCELLENCE_2018_en_US_large-0-5.jpg"},"categories":[],"display_name":"Certificate of Excellence 2018"},{"award_type":"CERTIFICATE_OF_EXCELLENCE","year":"2017","images":{"small":"https://www.tripadvisor.com/img/cdsi/img2/awards/CERTIFICATE_OF_EXCELLENCE_small-0-5.jpg","large":"https://www.tripadvisor.com/img/cdsi/img2/awards/CERTIFICATE_OF_EXCELLENCE_2017_en_US_large-0-5.jpg"},"categories":[],"display_name":"Certificate of Excellence 2017"},{"award_type":"CERTIFICATE_OF_EXCELLENCE","year":"2016","images":{"small":"https://www.tripadvisor.com/img/cdsi/img2/awards/CERTIFICATE_OF_EXCELLENCE_small-0-5.jpg","large":"https://www.tripadvisor.com/img/cdsi/img2/awards/CERTIFICATE_OF_EXCELLENCE_2016_en_US_large-0-5.jpg"},"categories":[],"display_name":"Certificate of Excellence 2016"}],"doubleclick_zone":"sa.ecuador.guayaquil","preferred_map_engine":"default","raw_ranking":"4.50628137588501","ranking_geo":"Guayaquil","ranking_geo_id":"303845","ranking_position":"5","ranking_denominator":"557","ranking_category":"restaurant","ranking":"#5 of 681 Restaurants in Guayaquil","distance":"2.1512696177850015","distance_string":"2.2 km","bearing":"south","rating":"4.5","is_closed":false,"open_now_text":"Closed Now","is_long_closed":false,"price_level":"$$ - $$$","price":"$5 - $10","description":"","web_url":"https://www.tripadvisor.com/Restaurant_Review-g303845-d7684981-Reviews-Pizza_Alta-Guayaquil_Guayas_Province.html","write_review":"https://www.tripadvisor.com/UserReview-g303845-d7684981-Pizza_Alta-Guayaquil_Guayas_Province.html","ancestors":[{"subcategory":[{"key":"city","name":"City"}],"name":"Guayaquil","abbrv":null,"location_id":"303845"},{"subcategory":[{"key":"province","name":"Province"}],"name":"Guayas Province","abbrv":null,"location_id":"2651587"},{"subcategory":[{"key":"country","name":"Country"}],"name":"Ecuador","abbrv":null,"location_id":"294307"}],"category":{"key":"restaurant","name":"Restaurant"},"subcategory":[{"key":"sit_down","name":"Sit down"}],"parent_display_name":"Guayaquil","is_jfy_enabled":false,"nearest_metro_station":[],"phone":"+593 98 253 2038","website":"http://pizzaalta.com/","address_obj":{"street1":"Avenida Las Monjas","street2":"Urdesa","city":"Guayaquil","state":null,"country":"Ecuador","postalcode":"090150"},"address":"Avenida Las Monjas Urdesa, Guayaquil 090150 Ecuador","hours":{"week_ranges":[[{"open_time":900,"close_time":1290}],[{"open_time":1020,"close_time":1320}],[{"open_time":1020,"close_time":1320}],[{"open_time":1020,"close_time":1320}],[{"open_time":1020,"close_time":1320}],[{"open_time":1020,"close_time":1350}],[{"open_time":1020,"close_time":1350}]],"timezone":"America/Guayaquil"},"is_candidate_for_contact_info_suppression":false,"cuisine":[{"key":"4617","name":"Italian"},{"key":"10641","name":"Pizza"},{"key":"10646","name":"Fast Food"},{"key":"10665","name":"Vegetarian Friendly"}],"dietary_restrictions":[{"key":"10665","name":"Vegetarian Friendly"}],"establishment_types":[{"key":"10591","name":"Restaurants"}]}]`
